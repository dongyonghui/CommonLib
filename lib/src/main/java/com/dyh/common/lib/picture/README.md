# PictureSelector 2.0
   ä¸€æ¬¾é’ˆå¯¹Androidå¹³å°ä¸‹çš„å›¾ç‰‡é€‰æ‹©å™¨ï¼Œæ”¯æŒä»ç›¸å†Œè·å–å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘&æ‹ç…§ï¼Œæ”¯æŒè£å‰ª(å•å›¾orå¤šå›¾è£å‰ª)ã€å‹ç¼©ã€ä¸»é¢˜è‡ªå®šä¹‰é…ç½®ç­‰åŠŸèƒ½ï¼Œæ”¯æŒåŠ¨æ€è·å–æƒé™&é€‚é…Android 5.0+ç³»ç»Ÿçš„å¼€æºå›¾ç‰‡é€‰æ‹©æ¡†æ¶ã€‚<br>
   
   [è‹±æ–‡ç‰ˆğŸ‡ºğŸ‡¸](README.md)
 
   [æˆ‘çš„åšå®¢åœ°å€](http://blog.csdn.net/luck_mw)   
  
   [ä½“éªŒDemo](https://github.com/LuckSiege/PictureSelector/raw/master/app/demo/app_2020_06_01_2030_2.5.8.apk)<br>
  
[![](https://jitpack.io/v/LuckSiege/PictureSelector.svg)](https://jitpack.io/#LuckSiege/PictureSelector)
[![PRs Welcome](https://img.shields.io/badge/PRs-Welcome-brightgreen.svg)](https://github.com/LuckSiege)
[![CSDN](https://img.shields.io/twitter/url/http/blog.csdn.net/luck_mw.svg?style=social)](http://blog.csdn.net/luck_mw)
[![I](https://img.shields.io/github/issues/LuckSiege/PictureSelector.svg)](https://github.com/LuckSiege/PictureSelector/issues)
[![Star](https://img.shields.io/github/stars/LuckSiege/PictureSelector.svg)](https://github.com/LuckSiege/PictureSelector)

## ç›®å½•
-[ç”¨å‰éœ€çŸ¥](https://github.com/LuckSiege/PictureSelector/wiki/%E7%94%A8%E5%89%8D%E9%9C%80%E7%9F%A5)<br>
-[å¦‚ä½•æIssues?](https://github.com/LuckSiege/PictureSelector/wiki/%E5%A6%82%E4%BD%95%E6%8F%90Issues%3F)<br>
-[åŠŸèƒ½ç‰¹ç‚¹](https://github.com/LuckSiege/PictureSelector/wiki/%E5%8A%9F%E8%83%BD%E7%89%B9%E7%82%B9)<br>
-[æœ€æ–°ç‰ˆæœ¬ v2.5.8](#æœ€æ–°ç‰ˆæœ¬)<br>
-[æ›´æ–°æ—¥å¿—](https://github.com/LuckSiege/PictureSelector/releases/tag/v2.5.8)<br>
-[ä¸»é¢˜é…ç½®-Xmlæ–¹å¼](https://github.com/LuckSiege/PictureSelector/wiki/%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%BB%E9%A2%98-Xml%E6%96%B9%E5%BC%8F)<br>
-[ä¸»é¢˜é…ç½®-Codeæ–¹å¼](https://github.com/LuckSiege/PictureSelector/wiki/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A8%E6%80%81%E4%B8%BB%E9%A2%98(%E5%8C%85%E5%90%AB%E8%A3%81%E5%89%AA%E3%80%81%E7%9B%B8%E5%86%8C%E5%90%AF%E5%8A%A8%E5%8A%A8%E7%94%BB)-Code%E6%96%B9%E5%BC%8F)<br>
-[æ¼”ç¤ºæ•ˆæœ](#æ¼”ç¤ºæ•ˆæœ)<br>
-[é›†æˆæ–¹å¼](https://github.com/LuckSiege/PictureSelector/wiki/%E9%9B%86%E6%88%90%E6%96%B9%E5%BC%8F)<br>
-[Apiè¯´æ˜](https://github.com/LuckSiege/PictureSelector/wiki/PictureSelector-Api%E8%AF%B4%E6%98%8E)<br>
-[å¯åŠ¨ç›¸å†Œ](#å¯åŠ¨ç›¸å†Œ)<br>
-[å•ç‹¬æ‹ç…§](#å•ç‹¬æ‹ç…§)<br>
-[è‡ªå®šä¹‰ç›¸æœº](#è‡ªå®šä¹‰ç›¸æœº)<br>
-[ç»“æœå›è°ƒ](https://github.com/LuckSiege/PictureSelector/wiki/%E7%BB%93%E6%9E%9C%E5%9B%9E%E8%B0%83)<br>
-[å¸¸è§é”™è¯¯](https://github.com/LuckSiege/PictureSelector/wiki/%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF)<br>
-[ç¼“å­˜æ¸…é™¤](#ç¼“å­˜æ¸…é™¤)<br>
-[æ··æ·†é…ç½®](#æ··æ·†é…ç½®)<br>
-[License](#License)<br>
-[å…¼å®¹æ€§æµ‹è¯•](#å…¼å®¹æ€§æµ‹è¯•)<br>
-[è”ç³»æ–¹å¼](#è”ç³»æ–¹å¼)<br>


## æœ€æ–°ç‰ˆæœ¬
```sh
implementation 'com.github.LuckSiege.PictureSelector:picture_library:v2.5.8'
```

## å¯åŠ¨ç›¸å†Œ
å¿«æ·è°ƒç”¨ï¼Œæ›´å¤šåŠŸèƒ½ [è¯·æŸ¥çœ‹](https://github.com/LuckSiege/PictureSelector/wiki/PictureSelector-Api%E8%AF%B4%E6%98%8E)

1ã€onActivityResult
```sh 
 PictureSelector.create(this)
   .openGallery(PictureMimeType.ofImage())
   .loadImageEngine(GlideEngine.createGlideEngine()) // è¯·å‚è€ƒDemo GlideEngine.java
   .forResult(PictureConfig.CHOOSE_REQUEST);
   
    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if (resultCode == RESULT_OK) {
            switch (requestCode) {
                case PictureConfig.CHOOSE_REQUEST:
                    // ç»“æœå›è°ƒ
                    List<LocalMedia> selectList = PictureSelector.obtainMultipleResult(data);
                    break;
                default:
                    break;
            }            
        }
```

2ã€Callback
```sh
 PictureSelector.create(this)
   .openGallery(PictureMimeType.ofAll())
   .loadImageEngine(GlideEngine.createGlideEngine())
   .forResult(new OnResultCallbackListener<LocalMedia>() {
       @Override
       public void onResult(List<LocalMedia> result) {
            // ç»“æœå›è°ƒ
       }

       @Override
       public void onCancel() {
            // å–æ¶ˆ
       }
     });  
```

## å•ç‹¬æ‹ç…§
å¿«æ·è°ƒç”¨ï¼Œå•ç‹¬å¯åŠ¨æ‹ç…§æˆ–è§†é¢‘ æ ¹æ®PictureMimeTypeè‡ªåŠ¨è¯†åˆ« æ›´å¤šåŠŸèƒ½ [è¯·æŸ¥çœ‹](https://github.com/LuckSiege/PictureSelector/wiki/PictureSelector-Api%E8%AF%B4%E6%98%8E)

onActivityResult
```sh
 PictureSelector.create(this)
   .openCamera(PictureMimeType.ofImage())
   .loadImageEngine(GlideEngine.createGlideEngine()) // è¯·å‚è€ƒDemo GlideEngine.java
   .forResult(PictureConfig.REQUEST_CAMERA);Â  
   
    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if (resultCode == RESULT_OK) {
            switch (requestCode) {
                case PictureConfig.REQUEST_CAMERA:
                    // ç»“æœå›è°ƒ
                    List<LocalMedia> selectList = PictureSelector.obtainMultipleResult(data);
                    break;
                default:
                    break;
            }            
        }
```

Callback
```sh
PictureSelector.create(this)
   .openCamera(PictureMimeType.ofImage())
   .loadImageEngine(GlideEngine.createGlideEngine())
   .forResult(new OnResultCallbackListener<LocalMedia>() {
       @Override
       public void onResult(List<LocalMedia> result) {
            // ç»“æœå›è°ƒ
       }

       @Override
       public void onCancel() {
            // å–æ¶ˆ
       }
     });
```

## è‡ªå®šä¹‰ç›¸æœº
å¦‚æœéœ€è¦ä½¿ç”¨è‡ªå®šä¹‰ç›¸æœºéœ€è¦è®¾ç½®
```
.isUseCustomCamera(true);
```
Applicationä¸‹å®ç°å¦‚ä¸‹æ¥å£
```sh
 public class App extends Application implements CameraXConfig.Provider {
    private static final String TAG = App.class.getSimpleName();

    @Override
    public void onCreate() {
        super.onCreate();
    }

    @NonNull
    @Override
    public CameraXConfig getCameraXConfig() {
        return Camera2Config.defaultConfig();
    }
 }
```

## ç¼“å­˜æ¸…é™¤
```sh
 //åŒ…æ‹¬è£å‰ªå’Œå‹ç¼©åçš„ç¼“å­˜ï¼Œè¦åœ¨ä¸Šä¼ æˆåŠŸåè°ƒç”¨ï¼Œtype æŒ‡çš„æ˜¯å›¾ç‰‡orè§†é¢‘ç¼“å­˜å–å†³äºä½ è®¾ç½®çš„ofImageæˆ–ofVideo æ³¨æ„ï¼šéœ€è¦ç³»ç»Ÿsdå¡æƒé™  
 PictureFileUtils.deleteCacheDirFile(this,type);
 // æ¸…é™¤æ‰€æœ‰ç¼“å­˜ ä¾‹å¦‚ï¼šå‹ç¼©ã€è£å‰ªã€è§†é¢‘ã€éŸ³é¢‘æ‰€ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶
 PictureFileUtils.deleteAllCacheDirFile(this);
```
 
## é¢„è§ˆå›¾ç‰‡ 
```
// é¢„è§ˆå›¾ç‰‡ å¯è‡ªå®šé•¿æŒ‰ä¿å­˜è·¯å¾„
*æ³¨æ„ .themeStyle(R.style.theme)ï¼›é‡Œé¢çš„å‚æ•°ä¸å¯åˆ ï¼Œå¦åˆ™é—ªé€€...

PictureSelector.create(this)
 .themeStyle(R.style.picture_default_style)
 .isNotPreviewDownload(true)
 .loadImageEngine(GlideEngine.createGlideEngine()) // è¯·å‚è€ƒDemo GlideEngine.java
 .openExternalPreview(position, selectList);

```
## é¢„è§ˆè§†é¢‘
```sh
PictureSelector.create(this).externalPictureVideo(video_path);
```

## é¡¹ç›®ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“

* PhotoView
* luban
* ucrop

## æ··æ·†é…ç½® 
```sh
#PictureSelector 2.0
-keep class com.luck.picture.lib.** { *; }

#Ucrop
-dontwarn com.yalantis.ucrop**
-keep class com.yalantis.ucrop** { *; }
-keep interface com.yalantis.ucrop** { *; }

#Okio
-dontwarn org.codehaus.mojo.animal_sniffer.*
```
## License
```sh
   Copyright 2017 Luck

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
```

## è”ç³»æ–¹å¼
Androidå¼€å‘äº¤æµ ç¾¤ä¸€ [619458861]() (å·²æ»¡) <br>
Androidå¼€å‘äº¤æµ ç¾¤äºŒ [679824206]() (å·²æ»¡) <br>
Androidå¼€å‘äº¤æµ ç¾¤ä¸‰ [854136996]() (å·²æ»¡) <br>
QQ [893855882]() <br>


## å…¼å®¹æ€§æµ‹è¯•
******è…¾è®¯ä¼˜æµ‹-æ·±åº¦æµ‹è¯•-é€šè¿‡ç‡è¾¾åˆ°100%******

![image](https://github.com/LuckSiege/PictureSelector/blob/master/image/test.png)


## æ¼”ç¤ºæ•ˆæœ

| å•ä¸€æ¨¡å¼ | æ··é€‰æ¨¡å¼ |
|:-----------:|:-----------:|
|![](image/home.jpg)|![](image/home_mixed.jpg)| 

| é»˜è®¤é£æ ¼ | é¢„è§ˆ | å¤šå›¾è£å‰ª |
|:-----------:|:--------:|:---------:|
|![](image/picture_default_style_1.jpg) | <img src="image/picture_default_style_2.jpg"/> | ![](image/picture_default_style_new_3.jpg)|  

| æ•°å­—é£æ ¼ | é¢„è§ˆ | å¤šå›¾è£å‰ª |
|:-----------:|:--------:|:---------:|
|![](image/picture_num_style_new_1.jpg) | ![](image/picture_num_style_new_2.jpg) | ![](image/picture_num_style_new_3.jpg)| 

| ç™½è‰²é£æ ¼ | é¢„è§ˆ | å•å›¾è£å‰ª |
|:-----------:|:--------:|:---------:|
|![](image/picture_sina_style_1.jpg) | ![](image/picture_sina_style_new_2.jpg) | ![](image/picture_sina_style_new_3.jpg)| 

| å…¨æ–°é£æ ¼ | é¢„è§ˆ | å¤šå›¾è£å‰ª |
|:-----------:|:--------:|:---------:|
|![](image/picture_wechat_style_1.jpg) | ![](image/picture_wechat_style_2.jpg) | ![](image/picture_wechat_style_new_3.jpg)| 

| ç›¸å†Œç›®å½• | å•é€‰æ¨¡å¼ | å¤´åƒè£å‰ª|
|:-----------:|:--------:|:--------:|
|![](image/picture_wechat_album_style.jpg) |![](image/picture_wechat_single_style_3.jpg) | ![](image/picture_circular_crop_new_style.jpg)| 

| ç™½è‰²é£æ ¼ | è§†é¢‘ | éŸ³é¢‘ |
|:-----------:|:-----------:|:--------:|
|![](image/picture_white_style.jpeg) |![](image/picture_video.jpg) | ![](image/picture_audio.jpg)| 

boolean mode = cb_mode.isChecked();
            if (mode) {
                // è¿›å…¥ç›¸å†Œ ä»¥ä¸‹æ˜¯ä¾‹å­ï¼šä¸éœ€è¦çš„apiå¯ä»¥ä¸å†™
                PictureSelector.create(MainActivity.this)
                        .openGallery(chooseMode)// å…¨éƒ¨.PictureMimeType.ofAll()ã€å›¾ç‰‡.ofImage()ã€è§†é¢‘.ofVideo()ã€éŸ³é¢‘.ofAudio()
                        .imageEngine(GlideEngine.createGlideEngine())// å¤–éƒ¨ä¼ å…¥å›¾ç‰‡åŠ è½½å¼•æ“ï¼Œå¿…ä¼ é¡¹
                        .theme(themeId)// ä¸»é¢˜æ ·å¼è®¾ç½® å…·ä½“å‚è€ƒ values/styles   ç”¨æ³•ï¼šR.style.picture.white.style v2.3.3å å»ºè®®ä½¿ç”¨setPictureStyle()åŠ¨æ€æ–¹å¼
                        .isWeChatStyle(isWeChatStyle)// æ˜¯å¦å¼€å¯å¾®ä¿¡å›¾ç‰‡é€‰æ‹©é£æ ¼
                        .isUseCustomCamera(cb_custom_camera.isChecked())// æ˜¯å¦ä½¿ç”¨è‡ªå®šä¹‰ç›¸æœº
                        .setLanguage(language)// è®¾ç½®è¯­è¨€ï¼Œé»˜è®¤ä¸­æ–‡
                        .isPageStrategy(cbPage.isChecked())// æ˜¯å¦å¼€å¯åˆ†é¡µç­–ç•¥ & æ¯é¡µå¤šå°‘æ¡ï¼›é»˜è®¤å¼€å¯
                        .setPictureStyle(mPictureParameterStyle)// åŠ¨æ€è‡ªå®šä¹‰ç›¸å†Œä¸»é¢˜
                        .setPictureCropStyle(mCropParameterStyle)// åŠ¨æ€è‡ªå®šä¹‰è£å‰ªä¸»é¢˜
                        .setPictureWindowAnimationStyle(mWindowAnimationStyle)// è‡ªå®šä¹‰ç›¸å†Œå¯åŠ¨é€€å‡ºåŠ¨ç”»
                        .setRecyclerAnimationMode(animationMode)// åˆ—è¡¨åŠ¨ç”»æ•ˆæœ
                        .isWithVideoImage(true)// å›¾ç‰‡å’Œè§†é¢‘æ˜¯å¦å¯ä»¥åŒé€‰,åªåœ¨ofAllæ¨¡å¼ä¸‹æœ‰æ•ˆ
                        .isMaxSelectEnabledMask(cbEnabledMask.isChecked())// é€‰æ‹©æ•°åˆ°äº†æœ€å¤§é˜€å€¼åˆ—è¡¨æ˜¯å¦å¯ç”¨è’™å±‚æ•ˆæœ
                        //.isAutomaticTitleRecyclerTop(false)// è¿ç»­ç‚¹å‡»æ ‡é¢˜æ RecyclerViewæ˜¯å¦è‡ªåŠ¨å›åˆ°é¡¶éƒ¨,é»˜è®¤true
                        //.loadCacheResourcesCallback(GlideCacheEngine.createCacheEngine())// è·å–å›¾ç‰‡èµ„æºç¼“å­˜ï¼Œä¸»è¦æ˜¯è§£å†³åä¸º10éƒ¨åˆ†æœºå‹åœ¨æ‹·è´æ–‡ä»¶è¿‡å¤šæ—¶ä¼šå‡ºç°å¡çš„é—®é¢˜ï¼Œè¿™é‡Œå¯ä»¥åˆ¤æ–­åªåœ¨ä¼šå‡ºç°ä¸€ç›´è½¬åœˆé—®é¢˜æœºå‹ä¸Šä½¿ç”¨
                        //.setOutputCameraPath()// è‡ªå®šä¹‰ç›¸æœºè¾“å‡ºç›®å½•ï¼Œåªé’ˆå¯¹Android Qä»¥ä¸‹ï¼Œä¾‹å¦‚ Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM) +  File.separator + "Camera" + File.separator;
                        //.setButtonFeatures(CustomCameraView.BUTTON_STATE_BOTH)// è®¾ç½®è‡ªå®šä¹‰ç›¸æœºæŒ‰é’®çŠ¶æ€
                        .maxSelectNum(maxSelectNum)// æœ€å¤§å›¾ç‰‡é€‰æ‹©æ•°é‡
                        .minSelectNum(1)// æœ€å°é€‰æ‹©æ•°é‡
                        .maxVideoSelectNum(1) // è§†é¢‘æœ€å¤§é€‰æ‹©æ•°é‡
                        //.minVideoSelectNum(1)// è§†é¢‘æœ€å°é€‰æ‹©æ•°é‡
                        //.closeAndroidQChangeVideoWH(!SdkVersionUtils.checkedAndroid_Q())// å…³é—­åœ¨AndroidQä¸‹è·å–å›¾ç‰‡æˆ–è§†é¢‘å®½é«˜ç›¸åè‡ªåŠ¨è½¬æ¢
                        .imageSpanCount(4)// æ¯è¡Œæ˜¾ç¤ºä¸ªæ•°
                        .isReturnEmpty(false)// æœªé€‰æ‹©æ•°æ®æ—¶ç‚¹å‡»æŒ‰é’®æ˜¯å¦å¯ä»¥è¿”å›
                        .closeAndroidQChangeWH(true)//å¦‚æœå›¾ç‰‡æœ‰æ—‹è½¬è§’åº¦åˆ™å¯¹æ¢å®½é«˜,é»˜è®¤ä¸ºtrue
                        .closeAndroidQChangeVideoWH(!SdkVersionUtils.checkedAndroid_Q())// å¦‚æœè§†é¢‘æœ‰æ—‹è½¬è§’åº¦åˆ™å¯¹æ¢å®½é«˜,é»˜è®¤ä¸ºfalse
                        //.isAndroidQTransform(false)// æ˜¯å¦éœ€è¦å¤„ç†Android Q æ‹·è´è‡³åº”ç”¨æ²™ç›’çš„æ“ä½œï¼Œåªé’ˆå¯¹compress(false); && .isEnableCrop(false);æœ‰æ•ˆ,é»˜è®¤å¤„ç†
                        .setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED)// è®¾ç½®ç›¸å†ŒActivityæ–¹å‘ï¼Œä¸è®¾ç½®é»˜è®¤ä½¿ç”¨ç³»ç»Ÿ
                        .isOriginalImageControl(cb_original.isChecked())// æ˜¯å¦æ˜¾ç¤ºåŸå›¾æ§åˆ¶æŒ‰é’®ï¼Œå¦‚æœè®¾ç½®ä¸ºtrueåˆ™ç”¨æˆ·å¯ä»¥è‡ªç”±é€‰æ‹©æ˜¯å¦ä½¿ç”¨åŸå›¾ï¼Œå‹ç¼©ã€è£å‰ªåŠŸèƒ½å°†ä¼šå¤±æ•ˆ
                        //.bindCustomPlayVideoCallback(new MyVideoSelectedPlayCallback(getContext()))// è‡ªå®šä¹‰è§†é¢‘æ’­æ”¾å›è°ƒæ§åˆ¶ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨è‡ªå·±çš„è§†é¢‘æ’­æ”¾ç•Œé¢
                        //.bindCustomPreviewCallback(new MyCustomPreviewInterfaceListener())// è‡ªå®šä¹‰å›¾ç‰‡é¢„è§ˆå›è°ƒæ¥å£
                        //.bindCustomCameraInterfaceListener(new MyCustomCameraInterfaceListener())// æä¾›ç»™ç”¨æˆ·çš„ä¸€äº›é¢å¤–çš„è‡ªå®šä¹‰æ“ä½œå›è°ƒ
                        //.cameraFileName(System.currentTimeMillis() +".jpg")    // é‡å‘½åæ‹ç…§æ–‡ä»¶åã€å¦‚æœæ˜¯ç›¸å†Œæ‹ç…§åˆ™å†…éƒ¨ä¼šè‡ªåŠ¨æ‹¼ä¸Šå½“å‰æ—¶é—´æˆ³é˜²æ­¢é‡å¤ï¼Œæ³¨æ„è¿™ä¸ªåªåœ¨ä½¿ç”¨ç›¸æœºæ—¶å¯ä»¥ä½¿ç”¨ï¼Œå¦‚æœä½¿ç”¨ç›¸æœºåˆå¼€å¯äº†å‹ç¼©æˆ–è£å‰ª éœ€è¦é…åˆå‹ç¼©å’Œè£å‰ªæ–‡ä»¶åapi
                        //.renameCompressFile(System.currentTimeMillis() +".jpg")// é‡å‘½åå‹ç¼©æ–‡ä»¶åã€ å¦‚æœæ˜¯å¤šå¼ å‹ç¼©åˆ™å†…éƒ¨ä¼šè‡ªåŠ¨æ‹¼ä¸Šå½“å‰æ—¶é—´æˆ³é˜²æ­¢é‡å¤
                        //.renameCropFileName(System.currentTimeMillis() + ".jpg")// é‡å‘½åè£å‰ªæ–‡ä»¶åã€ å¦‚æœæ˜¯å¤šå¼ è£å‰ªåˆ™å†…éƒ¨ä¼šè‡ªåŠ¨æ‹¼ä¸Šå½“å‰æ—¶é—´æˆ³é˜²æ­¢é‡å¤
                        .selectionMode(cb_choose_mode.isChecked() ?
                                PictureConfig.MULTIPLE : PictureConfig.SINGLE)// å¤šé€‰ or å•é€‰
                        .isSingleDirectReturn(cb_single_back.isChecked())// å•é€‰æ¨¡å¼ä¸‹æ˜¯å¦ç›´æ¥è¿”å›ï¼ŒPictureConfig.SINGLEæ¨¡å¼ä¸‹æœ‰æ•ˆ
                        .isPreviewImage(cb_preview_img.isChecked())// æ˜¯å¦å¯é¢„è§ˆå›¾ç‰‡
                        .isPreviewVideo(cb_preview_video.isChecked())// æ˜¯å¦å¯é¢„è§ˆè§†é¢‘
                        //.querySpecifiedFormatSuffix(PictureMimeType.ofJPEG())// æŸ¥è¯¢æŒ‡å®šåç¼€æ ¼å¼èµ„æº
                        .isEnablePreviewAudio(cb_preview_audio.isChecked()) // æ˜¯å¦å¯æ’­æ”¾éŸ³é¢‘
                        .isCamera(cb_isCamera.isChecked())// æ˜¯å¦æ˜¾ç¤ºæ‹ç…§æŒ‰é’®
                        //.isMultipleSkipCrop(false)// å¤šå›¾è£å‰ªæ—¶æ˜¯å¦æ”¯æŒè·³è¿‡ï¼Œé»˜è®¤æ”¯æŒ
                        //.isMultipleRecyclerAnimation(false)// å¤šå›¾è£å‰ªåº•éƒ¨åˆ—è¡¨æ˜¾ç¤ºåŠ¨ç”»æ•ˆæœ
                        .isZoomAnim(true)// å›¾ç‰‡åˆ—è¡¨ç‚¹å‡» ç¼©æ”¾æ•ˆæœ é»˜è®¤true
                        //.imageFormat(PictureMimeType.PNG)// æ‹ç…§ä¿å­˜å›¾ç‰‡æ ¼å¼åç¼€,é»˜è®¤jpeg,Android Qä½¿ç”¨PictureMimeType.PNG_Q
                        .isEnableCrop(cb_crop.isChecked())// æ˜¯å¦è£å‰ª
                        //.basicUCropConfig()//å¯¹å¤–æä¾›æ‰€æœ‰UCropOptionså‚æ•°é…åˆ¶ï¼Œä½†å¦‚æœPictureSelectoråŸæœ¬æ”¯æŒè®¾ç½®çš„è¿˜æ˜¯ä¼šä½¿ç”¨åŸæœ‰çš„è®¾ç½®
                        .isCompress(cb_compress.isChecked())// æ˜¯å¦å‹ç¼©
                        //.compressQuality(80)// å›¾ç‰‡å‹ç¼©åè¾“å‡ºè´¨é‡ 0~ 100
                        .synOrAsy(true)//åŒæ­¥trueæˆ–å¼‚æ­¥false å‹ç¼© é»˜è®¤åŒæ­¥
                        //.queryMaxFileSize(10)// åªæŸ¥å¤šå°‘Mä»¥å†…çš„å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘  å•ä½M
                        //.compressSavePath(getPath())//å‹ç¼©å›¾ç‰‡ä¿å­˜åœ°å€
                        //.sizeMultiplier(0.5f)// glide åŠ è½½å›¾ç‰‡å¤§å° 0~1ä¹‹é—´ å¦‚è®¾ç½® .glideOverride()æ— æ•ˆ æ³¨ï¼šå·²åºŸå¼ƒ
                        //.glideOverride(160, 160)// glide åŠ è½½å®½é«˜ï¼Œè¶Šå°å›¾ç‰‡åˆ—è¡¨è¶Šæµç•…ï¼Œä½†ä¼šå½±å“åˆ—è¡¨å›¾ç‰‡æµè§ˆçš„æ¸…æ™°åº¦ æ³¨ï¼šå·²åºŸå¼ƒ
                        .withAspectRatio(aspect_ratio_x, aspect_ratio_y)// è£å‰ªæ¯”ä¾‹ å¦‚16:9 3:2 3:4 1:1 å¯è‡ªå®šä¹‰
                        .hideBottomControls(!cb_hide.isChecked())// æ˜¯å¦æ˜¾ç¤ºuCropå·¥å…·æ ï¼Œé»˜è®¤ä¸æ˜¾ç¤º
                        .isGif(cb_isGif.isChecked())// æ˜¯å¦æ˜¾ç¤ºgifå›¾ç‰‡
                        .freeStyleCropEnabled(cb_styleCrop.isChecked())// è£å‰ªæ¡†æ˜¯å¦å¯æ‹–æ‹½
                        .circleDimmedLayer(cb_crop_circular.isChecked())// æ˜¯å¦åœ†å½¢è£å‰ª
                        //.setCropDimmedColor(ContextCompat.getColor(getContext(), R.color.app_color_white))// è®¾ç½®è£å‰ªèƒŒæ™¯è‰²å€¼
                        //.setCircleDimmedBorderColor(ContextCompat.getColor(getApplicationContext(), R.color.app_color_white))// è®¾ç½®åœ†å½¢è£å‰ªè¾¹æ¡†è‰²å€¼
                        //.setCircleStrokeWidth(3)// è®¾ç½®åœ†å½¢è£å‰ªè¾¹æ¡†ç²—ç»†
                        .showCropFrame(cb_showCropFrame.isChecked())// æ˜¯å¦æ˜¾ç¤ºè£å‰ªçŸ©å½¢è¾¹æ¡† åœ†å½¢è£å‰ªæ—¶å»ºè®®è®¾ä¸ºfalse
                        .showCropGrid(cb_showCropGrid.isChecked())// æ˜¯å¦æ˜¾ç¤ºè£å‰ªçŸ©å½¢ç½‘æ ¼ åœ†å½¢è£å‰ªæ—¶å»ºè®®è®¾ä¸ºfalse
                        .isOpenClickSound(cb_voice.isChecked())// æ˜¯å¦å¼€å¯ç‚¹å‡»å£°éŸ³
                        .selectionData(mAdapter.getData())// æ˜¯å¦ä¼ å…¥å·²é€‰å›¾ç‰‡
                        //.isDragFrame(false)// æ˜¯å¦å¯æ‹–åŠ¨è£å‰ªæ¡†(å›ºå®š)
                        //.videoMinSecond(10)// æŸ¥è¯¢å¤šå°‘ç§’ä»¥å†…çš„è§†é¢‘
                        //.videoMaxSecond(15)// æŸ¥è¯¢å¤šå°‘ç§’ä»¥å†…çš„è§†é¢‘
                        //.recordVideoSecond(10)//å½•åˆ¶è§†é¢‘ç§’æ•° é»˜è®¤60s
                        //.isPreviewEggs(true)// é¢„è§ˆå›¾ç‰‡æ—¶ æ˜¯å¦å¢å¼ºå·¦å³æ»‘åŠ¨å›¾ç‰‡ä½“éªŒ(å›¾ç‰‡æ»‘åŠ¨ä¸€åŠå³å¯çœ‹åˆ°ä¸Šä¸€å¼ æ˜¯å¦é€‰ä¸­)
                        //.cropCompressQuality(90)// æ³¨ï¼šå·²åºŸå¼ƒ æ”¹ç”¨cutOutQuality()
                        .cutOutQuality(90)// è£å‰ªè¾“å‡ºè´¨é‡ é»˜è®¤100
                        .minimumCompressSize(100)// å°äºå¤šå°‘kbçš„å›¾ç‰‡ä¸å‹ç¼©
                        //.cropWH()// è£å‰ªå®½é«˜æ¯”ï¼Œè®¾ç½®å¦‚æœå¤§äºå›¾ç‰‡æœ¬èº«å®½é«˜åˆ™æ— æ•ˆ
                        //.cropImageWideHigh()// è£å‰ªå®½é«˜æ¯”ï¼Œè®¾ç½®å¦‚æœå¤§äºå›¾ç‰‡æœ¬èº«å®½é«˜åˆ™æ— æ•ˆ
                        //.rotateEnabled(false) // è£å‰ªæ˜¯å¦å¯æ—‹è½¬å›¾ç‰‡
                        //.scaleEnabled(false)// è£å‰ªæ˜¯å¦å¯æ”¾å¤§ç¼©å°å›¾ç‰‡
                        //.videoQuality()// è§†é¢‘å½•åˆ¶è´¨é‡ 0 or 1
                        //.forResult(PictureConfig.CHOOSE_REQUEST);//ç»“æœå›è°ƒonActivityResult code
                        .forResult(new MyResultCallback(mAdapter));
            } else {
                // å•ç‹¬æ‹ç…§
                PictureSelector.create(MainActivity.this)
                        .openCamera(chooseMode)// å•ç‹¬æ‹ç…§ï¼Œä¹Ÿå¯å½•åƒæˆ–ä¹Ÿå¯éŸ³é¢‘ çœ‹ä½ ä¼ å…¥çš„ç±»å‹æ˜¯å›¾ç‰‡orè§†é¢‘
                        .theme(themeId)// ä¸»é¢˜æ ·å¼è®¾ç½® å…·ä½“å‚è€ƒ values/styles
                        .imageEngine(GlideEngine.createGlideEngine())// å¤–éƒ¨ä¼ å…¥å›¾ç‰‡åŠ è½½å¼•æ“ï¼Œå¿…ä¼ é¡¹
                        .setPictureStyle(mPictureParameterStyle)// åŠ¨æ€è‡ªå®šä¹‰ç›¸å†Œä¸»é¢˜
                        .setPictureCropStyle(mCropParameterStyle)// åŠ¨æ€è‡ªå®šä¹‰è£å‰ªä¸»é¢˜
                        .setPictureWindowAnimationStyle(mWindowAnimationStyle)// è‡ªå®šä¹‰ç›¸å†Œå¯åŠ¨é€€å‡ºåŠ¨ç”»
                        .maxSelectNum(maxSelectNum)// æœ€å¤§å›¾ç‰‡é€‰æ‹©æ•°é‡
                        .isUseCustomCamera(cb_custom_camera.isChecked())// æ˜¯å¦ä½¿ç”¨è‡ªå®šä¹‰ç›¸æœº
                        //.setOutputCameraPath()// è‡ªå®šä¹‰ç›¸æœºè¾“å‡ºç›®å½•ï¼Œåªé’ˆå¯¹Android Qä»¥ä¸‹ï¼Œä¾‹å¦‚ Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM) +  File.separator + "Camera" + File.separator;
                        .minSelectNum(1)// æœ€å°é€‰æ‹©æ•°é‡
                        //.querySpecifiedFormatSuffix(PictureMimeType.ofPNG())// æŸ¥è¯¢æŒ‡å®šåç¼€æ ¼å¼èµ„æº
                        .closeAndroidQChangeWH(true)//å¦‚æœå›¾ç‰‡æœ‰æ—‹è½¬è§’åº¦åˆ™å¯¹æ¢å®½é«˜ï¼Œé»˜è®¤ä¸ºtrue
                        .closeAndroidQChangeVideoWH(!SdkVersionUtils.checkedAndroid_Q())// å¦‚æœè§†é¢‘æœ‰æ—‹è½¬è§’åº¦åˆ™å¯¹æ¢å®½é«˜ï¼Œé»˜è®¤false
                        .selectionMode(cb_choose_mode.isChecked() ?
                                PictureConfig.MULTIPLE : PictureConfig.SINGLE)// å¤šé€‰ or å•é€‰
                        //.cameraFileName(System.currentTimeMillis() + ".jpg")// ä½¿ç”¨ç›¸æœºæ—¶ä¿å­˜è‡³æœ¬åœ°çš„æ–‡ä»¶åç§°,æ³¨æ„è¿™ä¸ªåªåœ¨æ‹ç…§æ—¶å¯ä»¥ä½¿ç”¨
                        //.renameCompressFile(System.currentTimeMillis() + ".jpg")// é‡å‘½åå‹ç¼©æ–‡ä»¶åã€ æ³¨æ„è¿™ä¸ªä¸è¦é‡å¤ï¼Œåªé€‚ç”¨äºå•å¼ å›¾å‹ç¼©ä½¿ç”¨
                        //.renameCropFileName(System.currentTimeMillis() + ".jpg")// é‡å‘½åè£å‰ªæ–‡ä»¶åã€ æ³¨æ„è¿™ä¸ªä¸è¦é‡å¤ï¼Œåªé€‚ç”¨äºå•å¼ å›¾è£å‰ªä½¿ç”¨
                        .loadCacheResourcesCallback(GlideCacheEngine.createCacheEngine())// è·å–å›¾ç‰‡èµ„æºç¼“å­˜ï¼Œä¸»è¦æ˜¯è§£å†³åä¸º10éƒ¨åˆ†æœºå‹åœ¨æ‹·è´æ–‡ä»¶è¿‡å¤šæ—¶ä¼šå‡ºç°å¡çš„é—®é¢˜ï¼Œè¿™é‡Œå¯ä»¥åˆ¤æ–­åªåœ¨ä¼šå‡ºç°ä¸€ç›´è½¬åœˆé—®é¢˜æœºå‹ä¸Šä½¿ç”¨
                        .isPreviewImage(cb_preview_img.isChecked())// æ˜¯å¦å¯é¢„è§ˆå›¾ç‰‡
                        .isPreviewVideo(cb_preview_video.isChecked())// æ˜¯å¦å¯é¢„è§ˆè§†é¢‘
                        .isEnablePreviewAudio(cb_preview_audio.isChecked()) // æ˜¯å¦å¯æ’­æ”¾éŸ³é¢‘
                        .isCamera(cb_isCamera.isChecked())// æ˜¯å¦æ˜¾ç¤ºæ‹ç…§æŒ‰é’®
                        .isEnableCrop(cb_crop.isChecked())// æ˜¯å¦è£å‰ª
                        //.basicUCropConfig()//å¯¹å¤–æä¾›æ‰€æœ‰UCropOptionså‚æ•°é…åˆ¶ï¼Œä½†å¦‚æœPictureSelectoråŸæœ¬æ”¯æŒè®¾ç½®çš„è¿˜æ˜¯ä¼šä½¿ç”¨åŸæœ‰çš„è®¾ç½®
                        .isCompress(cb_compress.isChecked())// æ˜¯å¦å‹ç¼©
                        .compressQuality(60)// å›¾ç‰‡å‹ç¼©åè¾“å‡ºè´¨é‡
                        .glideOverride(160, 160)// glide åŠ è½½å®½é«˜ï¼Œè¶Šå°å›¾ç‰‡åˆ—è¡¨è¶Šæµç•…ï¼Œä½†ä¼šå½±å“åˆ—è¡¨å›¾ç‰‡æµè§ˆçš„æ¸…æ™°åº¦
                        .withAspectRatio(aspect_ratio_x, aspect_ratio_y)// è£å‰ªæ¯”ä¾‹ å¦‚16:9 3:2 3:4 1:1 å¯è‡ªå®šä¹‰
                        .hideBottomControls(!cb_hide.isChecked())// æ˜¯å¦æ˜¾ç¤ºuCropå·¥å…·æ ï¼Œé»˜è®¤ä¸æ˜¾ç¤º
                        .isGif(cb_isGif.isChecked())// æ˜¯å¦æ˜¾ç¤ºgifå›¾ç‰‡
                        .freeStyleCropEnabled(cb_styleCrop.isChecked())// è£å‰ªæ¡†æ˜¯å¦å¯æ‹–æ‹½
                        .circleDimmedLayer(cb_crop_circular.isChecked())// æ˜¯å¦åœ†å½¢è£å‰ª
                        //.setCircleDimmedColor(ContextCompat.getColor(this, R.color.app_color_white))// è®¾ç½®åœ†å½¢è£å‰ªèƒŒæ™¯è‰²å€¼
                        //.setCircleDimmedBorderColor(ContextCompat.getColor(this, R.color.app_color_white))// è®¾ç½®åœ†å½¢è£å‰ªè¾¹æ¡†è‰²å€¼
                        //.setCircleStrokeWidth(3)// è®¾ç½®åœ†å½¢è£å‰ªè¾¹æ¡†ç²—ç»†
                        .showCropFrame(cb_showCropFrame.isChecked())// æ˜¯å¦æ˜¾ç¤ºè£å‰ªçŸ©å½¢è¾¹æ¡† åœ†å½¢è£å‰ªæ—¶å»ºè®®è®¾ä¸ºfalse
                        .showCropGrid(cb_showCropGrid.isChecked())// æ˜¯å¦æ˜¾ç¤ºè£å‰ªçŸ©å½¢ç½‘æ ¼ åœ†å½¢è£å‰ªæ—¶å»ºè®®è®¾ä¸ºfalse
                        .isOpenClickSound(cb_voice.isChecked())// æ˜¯å¦å¼€å¯ç‚¹å‡»å£°éŸ³
                        .selectionData(mAdapter.getData())// æ˜¯å¦ä¼ å…¥å·²é€‰å›¾ç‰‡
                        //.isPreviewEggs(true)// é¢„è§ˆå›¾ç‰‡æ—¶ æ˜¯å¦å¢å¼ºå·¦å³æ»‘åŠ¨å›¾ç‰‡ä½“éªŒ(å›¾ç‰‡æ»‘åŠ¨ä¸€åŠå³å¯çœ‹åˆ°ä¸Šä¸€å¼ æ˜¯å¦é€‰ä¸­)
                        //.cropCompressQuality(90)// åºŸå¼ƒ æ”¹ç”¨cutOutQuality()
                        .cutOutQuality(90)// è£å‰ªè¾“å‡ºè´¨é‡ é»˜è®¤100
                        .minimumCompressSize(100)// å°äº100kbçš„å›¾ç‰‡ä¸å‹ç¼©
                        //.cropWH()// è£å‰ªå®½é«˜æ¯”ï¼Œè®¾ç½®å¦‚æœå¤§äºå›¾ç‰‡æœ¬èº«å®½é«˜åˆ™æ— æ•ˆ
                        //.cropImageWideHigh()// è£å‰ªå®½é«˜æ¯”ï¼Œè®¾ç½®å¦‚æœå¤§äºå›¾ç‰‡æœ¬èº«å®½é«˜åˆ™æ— æ•ˆ
                        //.rotateEnabled() // è£å‰ªæ˜¯å¦å¯æ—‹è½¬å›¾ç‰‡
                        //.scaleEnabled()// è£å‰ªæ˜¯å¦å¯æ”¾å¤§ç¼©å°å›¾ç‰‡
                        //.videoQuality()// è§†é¢‘å½•åˆ¶è´¨é‡ 0 or 1
                        //.forResult(PictureConfig.CHOOSE_REQUEST);//ç»“æœå›è°ƒonActivityResult code
                        .forResult(new MyResultCallback(mAdapter));
            }